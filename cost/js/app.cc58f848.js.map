{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/components/TaskAlarmData.vue?6375","webpack:///./src/components/TaskGraph.vue?6fe3","webpack:///./src/components/TaskRelationsData.vue?84e6","webpack:///./src/App.vue?3de0","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/components/TaskRelationsData.vue?230f","webpack:///./src/service/getData.js","webpack:///./src/components/SvgTree.vue?25ad","webpack:///src/components/SvgTree.vue","webpack:///./src/components/SvgTree.vue?3126","webpack:///./src/components/SvgTree.vue","webpack:///src/components/TaskRelationsData.vue","webpack:///./src/components/TaskRelationsData.vue?5425","webpack:///./src/components/TaskRelationsData.vue","webpack:///./src/components/TaskAlarmData.vue?558a","webpack:///src/components/TaskAlarmData.vue","webpack:///./src/components/TaskAlarmData.vue?6b76","webpack:///./src/components/TaskAlarmData.vue","webpack:///./src/components/TaskGraph.vue?ab81","webpack:///src/components/TaskGraph.vue","webpack:///./src/components/TaskGraph.vue?6603","webpack:///./src/components/TaskGraph.vue","webpack:///./src/components/Main.vue?65e9","webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?0b51","webpack:///./src/components/Main.vue","webpack:///./src/router/index.js","webpack:///./src/config/global.vue","webpack:///src/config/global.vue","webpack:///./src/config/global.vue?5a44","webpack:///./src/plugins/element.js","webpack:///./src/main.js","webpack:///./src/components/SvgTree.vue?6309","webpack:///./src/components/Main.vue?567b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticClass","_v","slot","on","handleCommand","_l","item","index","_s","addTask","staticStyle","tableData","tableRowClassName","showEditRemark","scopedSlots","_u","fn","scope","directives","rawName","row","expression","ref","$index","$event","handleUpdate","nativeOn","type","indexOf","_k","keyCode","model","callback","$$v","$set","showEdit","remark","preventDefault","showTree","refreshTree","addWhiteList","drawer","treeData","getTaskParents","params","axios","request","url","method","getTaskGraph","getAllLeafTask","getTaskParentsWithoutFilter","getEtlTask","getEtlTaskReadyTime","taskName","post","addTaskDepend","addReadyTask","removeWhiteList","getWhiteList","updateRemark","arr","v","parent","open","class","pnode","children","style","toggle","status","time","_e","svgId","link","deep","left","top","color","strokeWidth","curveness","path","blockHeight","blockWidth","rules","min","max","delayRules","root","list","levels","props","Array","direction","String","default","Boolean","mounted","initData","JSON","parse","stringify","watch","val","methods","compare","v1","v2","id","console","log","keys","forEach","height","width","prev","fatherId","show","sort","calcHeight","calcTop","calSvg","calWidth","calcLeft","calSvgVer","me","vnode","$nextTick","svg","setAttribute","prevHeight","pLeft","pTop","mLeft","prevWidth","vLeft","vTop","x1","showDetail","$emit","addTarget","editTarget","detailTarget","refreshTarget","components","VueSvgTree","activeIndex","statusMap","0","1","2","3","4","13","input","whiteDropList","whiteList","lock","text","spinner","background","queue","task","parents","dependType","rowIndex","showAllTree","allTreeData","column","cell","event","$refs","taskname","innerTreeData","tableTask","replaceIndex","refreshAllTree","$prompt","confirmButtonText","cancelButtonText","Date","y","getFullYear","M","getMonth","getDate","h","getHours","getMinutes","getSeconds","addZero","showLine","startOptions","readyOptions","xAxis","axisLabel","formatter","date","texts","join","boundaryGap","yAxis","series","title","tooltip","triggerOn","dateStr","legend","bottom","axisPointer","snap","orgOptions","secondToHour","change","leafTasksValue","label","graphOptions","initOptions","handleClick","copy","leafTasks","chartStyle","undefined","des","$copyText","owner","then","e","that","$message","success","level","getChartStyle","chart","refresh","target","bonus","discountLimit","discount","cost","num","TaskRelationsData","TaskAlarmData","TaskGraph","bestNum","use","Vue","Router","router","routes","Main","Element","ECharts","VueClipboard","GLOBAL","global_","$graphArea","defaults","withCredentials","config","productionTip","echarts","require","dagre","defaultOptions","rankdir","registerLayout","ecModel","api","eachSeriesByType","seriesModel","layout","graph","getGraph","dagreGraph","graphlib","Graph","coordSys","coordinateSystem","Error","layoutConfig","util","extend","setGraph","setDefaultEdgeLabel","eachNode","node","itemModel","getModel","symbolSize","setNode","eachEdge","edge","setEdge","node1","node2","xMin","Infinity","yMin","xMax","yMax","nodeData","getData","edgeData","getEdgeData","nodes","idx","setItemLayout","x","Math","edges","n1","n2","w","edgeModel","getItemModel","points","cx","cy","aspect","viewRect","getViewRect","viewAspect","newHeight","newWidth","setBoundingRect","setViewRect","render","App","$mount"],"mappings":"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KiH,QAAQC,EAAG3C,OAAQ4C,EAAG5C,SAEpC,OA/BJ,SA+BA,8JACA,6BACA,2BAFA,gBAGA,kBAHA,sCAKA,kCALA,cAOA,yCACA,mGACA,uCATA,UAUA,qDAVA,QAWA,wBAXA,+CAaI,SA5CJ,WA4CA,qKACA,cACA,QACA,eACA,0BACA,kCALA,SAQA,IACA,kBAEA,GADA,eACA,iBACA,kBACA,qBACA,eAEA,uBACA,kBACA,SACA,gBACA,sBAIA,+BAGA,yBAEA,aAEA,mBACA,UACA,yBACA,oBAlCA,8CAqCI,cAjFJ,SAiFA,wKACA,cACA,QACA,eACA,0BACA,kCALA,SAQA,KACA,kBAEA,GADA,eACA,iBACA,kBACA,uBACA,SAGA,6BACA,OACA,aACA,eACA,cACA,eACA,UACA,yBACA,EACA,WACA,YACA,EACA,GAGA,aAGA,SACA,6BACA,OACA,mBACA,mBACA,SAGA,aAEA,iBACA,QACA,gBACA,OACA,cAGA,SACA,QACA,sBACA,0BACA,wCAEA,KAOA,SAEA,QACA,SAEA,WACA,QACA,WACA,wlCACA,sKACA,4BAGA,mGACA,gCALA,SAMA,qDANA,OAOA,wBACA,0BARA,oGAaA,aACA,QACA,cAEA,UACA,QACA,aACA,gCACA,mBACA,4BACA,iEAIA,YACA,QACA,aACA,oIACA,mBACA,4BACA,kEA+BA,WAEA,QACA,CAEA,SACA,MACA,CACA,cAEA,eACA,CACA,eAEA,CACA,cAEA,iBACA,mBAIA,QACA,CACA,aACA,eACA,YACA,8BACA,sBACA,mBACA,OACA,eACA,qBAEA,OACA,aACA,aACA,WACA,QACA,QACA,kBAIA,OACA,QACA,sBACA,OACA,2BACA,KACA,4BACA,KACA,2BAMA,OACA,QACA,YACA,CACA,cAEA,eACA,CACA,eAEA,CACA,uBAQA,yBAEA,aAEA,mBACA,UACA,yBACA,oBA9NA,8CAiOInD,kBAlTJ,YAkTA,yBAEM,OADAQ,EAAIb,MAAQ8J,EACRjJ,EAAI,mBACC,cAEF,IAETP,eAzTJ,SAyTA,SACMgG,QAAQC,IAAI1F,EAAKoJ,EAAQC,EAAMC,GAC1B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","file":"js/app.cc58f848.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAlarmData.vue?vue&type=style&index=0&id=ed1cd8c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAlarmData.vue?vue&type=style&index=0&id=ed1cd8c8&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskGraph.vue?vue&type=style&index=0&id=5d113b91&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskGraph.vue?vue&type=style&index=0&id=5d113b91&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskRelationsData.vue?vue&type=style&index=0&id=fa4245ee&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskRelationsData.vue?vue&type=style&index=0&id=fa4245ee&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.el-table .warning-row {\n  background: oldlace;\n}\n.el-drawer.rtl {\n  overflow: scroll;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3008df02&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"text item\"},[_vm._v(\"1.数据来源：Cantor API\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"2.高亮黄色为含有弱依赖的任务，如果在白名单中则不高亮展示，可以增/删报警白名单\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"3.可以在依赖树中点击卡片跳转到xt平台进行配置\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"4.依赖树为快照数据，可刷新为最新数据\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"5.任务备注可以点击编辑\")])]),_c('el-row',{attrs:{\"gutter\":2}},[_c('el-col',{attrs:{\"span\":2,\"offset\":16}},[_c('el-dropdown',[_c('el-button',[_vm._v(\" 过滤项目组 \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"hmart_waimaiuser\")]),_c('el-dropdown-item',[_vm._v(\"hmart_waimai_bizdata\")]),_c('el-dropdown-item',[_vm._v(\"hmart_waimaibizdata\")]),_c('el-dropdown-item',[_vm._v(\"hadoop-waimaibizdata\")]),_c('el-dropdown-item',[_vm._v(\"hadoop-hmart-waimaiuser\")]),_c('el-dropdown-item',[_vm._v(\"mart_waimaibizdatacollect_bizdatacollect\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('el-button',[_vm._v(\" 报警白名单 \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.whiteDropList),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item.name}},[_vm._v(\" \"+_vm._s(item.name)+\" \"),_c('i',{staticClass:\"el-icon-delete\"})])}),1)],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{on:{\"click\":_vm.addTask}},[_vm._v(\"增加ETL任务\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"row-class-name\":_vm.tableRowClassName},on:{\"cell-click\":_vm.showEditRemark}},[_c('el-table-column',{attrs:{\"prop\":\"taskname\",\"label\":\"任务名\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.showEdit),expression:\"scope.row.showEdit\"}],ref:'remark'+scope.$index,attrs:{\"placeholder\":\"请输入备注\"},on:{\"blur\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleUpdate(scope.$index, scope.row)}},model:{value:(scope.row.remark),callback:function ($$v) {_vm.$set(scope.row, \"remark\", $$v)},expression:\"scope.row.remark\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!scope.row.showEdit),expression:\"!scope.row.showEdit\"}]},[_vm._v(_vm._s(scope.row.remark))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"utime\",\"label\":\"依赖树快照时间\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"width\":\"340\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showTree(scope.$index, scope)}}},[_vm._v(\"展示依赖树\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.refreshTree(scope.$index, scope)}}},[_vm._v(\"刷新依赖树\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.addWhiteList(scope.$index, scope)}}},[_vm._v(\"添加白名单\")])]}}])})],1),_c('el-drawer',{attrs:{\"title\":\"依赖树\",\"visible\":_vm.drawer,\"size\":\"80%\",\"with-header\":false},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('div',[_c('VueSvgTree',{ref:\"svgTree\",attrs:{\"treeData\":_vm.treeData,\"direction\":\"row\",\"svgId\":\"svg\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\n\nexport const getTaskParents = (params) => {\n    return axios.request({\n      url: 'etl/get-task-parents',\n      method: 'GET',\n      params: params\n    })\n  };\n  export const getTaskGraph = (data) => {\n    return axios.request({\n      url: 'etl/query-relation-graph',\n      method: 'POST',\n      data: data\n    })\n  };\n  export const getAllLeafTask = () => {\n    return axios.request({\n      url: 'etl/query-leaf-etl',\n      method: 'GET'\n    })\n  };\n  export const getTaskParentsWithoutFilter = (params) => {\n    return axios.request({\n      url: 'etl/get-task-parents-without-filter',\n      method: 'GET',\n      params: params\n    })\n  };\nexport const getEtlTask = () => {\n    return axios.request({\n      url: 'etl/get-etl-tasks',\n      method: 'GET',\n    })\n  };\nexport const getEtlTaskReadyTime = () => {\n    return axios.request({\n      url: 'etl/query-task-ready-time',\n      method: 'GET',\n    })\n  };\nexport const addTask = (taskName) => {\n  return axios.post(\n    'etl/add-task',\n    null,\n    {params: {\n      taskName\n    }}\n  )\n};\nexport const addTaskDepend = (taskName) => {\n  return axios.post(\n    'etl/add-task-depend',\n    null,\n    {params: {\n      taskName\n    }}\n  )\n};\nexport const addReadyTask = (taskName) => {\n  return axios.post(\n    'etl/update-ready-time',\n    null,\n    {params: {\n      taskName\n    }}\n  )\n};\nexport const addWhiteList = (taskName) => {\n  return axios.post(\n    'etl/add-white-list',\n    null,\n    {params: {\n      taskName\n    }}\n  )\n};\nexport const removeWhiteList = (taskName) => {\n  return axios.post(\n    'etl/remove-white-list',\n    null,\n    {params: {\n      taskName\n    }}\n  )\n};\nexport const getWhiteList = () => {\n  return axios.request({\n    url: 'etl/get-white-list',\n    method: 'GET',\n  })\n};\nexport const updateRemark = (taskName, remark) => {\n  return axios.post(\n    'etl/update-task-remark',\n    null,\n    {\n      params: {\n        taskName,\n        remark\n      }\n    }\n  )\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"treeContent\",staticClass:\"draw-area\",attrs:{\"id\":\"treeContent\"}},[_vm._l((_vm.levels),function(arr,index){return _c('div',{key:index},_vm._l((arr),function(v,index){return (!v.parent || v.parent.open)?_c('div',{key:index,staticClass:\"vnode\",class:{pnode: v.children && v.children.length > 0},style:('left:' + (v.left) + 'px; top:' + (v.top) + 'px'),on:{\"click\":function($event){return _vm.toggle(v)}}},[_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"node_des\"},[_c('div',[_vm._v(_vm._s(v.taskName))]),_c('div',[_vm._v(\"任务状态：\"+_vm._s(v.status))]),_c('div',[_vm._v(\"执行时间：\"+_vm._s(v.time)+\"s\")])])])]):_vm._e()}),0)}),(_vm.curveness)?_c('svg',{attrs:{\"id\":_vm.svgId}},_vm._l((_vm.list),function(link,index){return (link.deep > 0 && link.parent.open)?_c('line',{staticClass:\"link\",attrs:{\"x1\":link.left + 90,\"y1\":link.top,\"x2\":link.parent.left + 105,\"y2\":link.parent.top + 150,\"stroke\":link.color ? link.color : '#aaa',\"stroke-width\":link.strokeWidth ? link.strokeWidth : '1px'}}):_vm._e()}),0):_vm._e(),(!_vm.curveness)?_c('svg',{attrs:{\"id\":_vm.svgId}},_vm._l((_vm.list),function(link,index){return (link.deep > 0 && link.parent.open)?_c('path',{staticClass:\"link\",attrs:{\"d\":link.path,\"stroke\":link.color ? link.color : 'black',\"stroke-width\":link.strokeWidth ? link.strokeWidth : '1px'}}):_vm._e()}),0):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div class=\"draw-area\" id=\"treeContent\" ref=\"treeContent\">\n      <div v-for=\"(arr, index) in levels\" :key=\"index\">\n        <div\n          v-for=\"(v,index) in arr\"\n          v-if=\"!v.parent || v.parent.open\"\n          class=\"vnode\"\n          v-bind:class=\"{pnode: v.children && v.children.length > 0}\"\n          :key=\"index\"\n          :style=\"'left:' + (v.left) + 'px; top:' + (v.top) + 'px'\"\n          @click=\"toggle(v)\"\n        >\n          <div class=\"text\">\n            <!-- <div class=\"node_des\">\n                          <div>{{v.taskName}}</div>\n            </div>-->\n            <div class=\"node_des\">\n              <div>{{v.taskName}}</div>\n              <div>任务状态：{{v.status}}</div>\n              <div>执行时间：{{v.time}}s</div>\n            </div>\n            <!-- <div class=\"showTips\">\n                            <a target=\"_blank\" :href=\"'http://xt.sankuai.com/workbench/task/' + v.taskName\"   class=\"tips_icon icon_edit \">\n                              Xt\n                            </a>\n            </div>-->\n          </div>\n          <!-- <el-card class=\"box-card\">\n  <div slot=\"header\" class=\"clearfix\">\n    <span>{{v.taskName}}</span>\n  </div>\n  <div class=\"text item\">\n    {{'列表内容 '}}\n  </div>\n          </el-card>-->\n        </div>\n      </div>\n      <svg :id=\"svgId\" v-if=\"curveness\">\n        <!-- 直线 -->\n        <line\n          class=\"link\"\n          v-for=\"(link, index) in list\"\n          v-if=\"link.deep > 0 && link.parent.open\"\n          :x1=\"link.left + 90\"\n          :y1=\"link.top\"\n          :x2=\"link.parent.left + 105\"\n          :y2=\"link.parent.top + 150\"\n          :stroke=\"link.color ? link.color : '#aaa'\"\n          :stroke-width=\"link.strokeWidth ? link.strokeWidth : '1px'\"\n        />\n      </svg>\n\n      <svg :id=\"svgId\" v-if=\"!curveness\">\n        <path\n          class=\"link\"\n          v-for=\"(link, index) in list\"\n          v-if=\"link.deep > 0 && link.parent.open\"\n          :d=\"link.path\"\n          :stroke=\"link.color ? link.color : 'black'\"\n          :stroke-width=\"link.strokeWidth ? link.strokeWidth : '1px'\"\n        />\n      </svg>\n    </div>\n  </div>\n</template>\n\n\n\n<script>\n// import { list } from './list.js'\n//TODO:横向排列有问题\nvar width = 800;\nvar height = 600;\nvar blockHeight = 50;\nvar blockWidth = 300;\nexport default {\n  name: \"VueSvgTree\",\n  data() {\n    return {\n      rules: {\n        min: 200,\n        max: 350\n      },\n      delayRules: {\n        min: 10,\n        max: 300\n      },\n      root: null, // 顶层根节点s\n      list: null, // 列表\n      levels: null // 层次存储\n    };\n  },\n  props: {\n    treeData: {\n      type: Array\n    },\n    direction: {\n      type: String,\n      default: \"row\" //col:横向 row:纵向\n    },\n    svgId: {\n      type: String,\n      default: \"svg\"\n    },\n    curveness: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted() {\n    if (this.treeData && this.treeData.length > 0) {\n      this.initData(JSON.parse(JSON.stringify(this.treeData)));\n    }\n  },\n  watch: {\n    treeData(val) {\n      if (val && val.length > 0) {\n        this.initData(JSON.parse(JSON.stringify(val)));\n      }\n    }\n  },\n  methods: {\n    compare: function(v1, v2) {\n      if (v1.deep !== v2.deep) {\n        return v1.deep - v2.deep;\n      }\n      if (v1.parent === v2.parent) {\n        return v1.id - v2.id;\n      }\n      return this.compare(v1.parent, v2.parent);\n    },\n    // 初始化数据： 计算deep等\n    initData(data) {\n      console.log(\"data\", data);\n      var keys = {};\n      var root = null;\n      var levels = [];\n      if (!data && !(data.length > 0)) {\n        return;\n      }\n      data.forEach(v => {\n        keys[v.id] = v;\n        v.deep = 0;\n        v.top = 0;\n        v.height = 0;\n        v.width = 0;\n        v.path = \"\";\n        v.left = 0;\n        v.prev = null; // 前一个节点\n      });\n      data.forEach(v => {\n        if (v.fatherId || v.fatherId > 0) {\n          var p = keys[v.fatherId];\n          p.children = p.children || [];\n          p.children.push(v);\n          v.parent = p;\n          v.deep = p.deep + 1;\n          // v.left = v.deep * 150 + 10;\n          v.left = this.direction == \"col\" ? v.deep * 300 + 10 : 0;\n          v.top = this.direction == \"row\" ? v.deep * 250 + 5 : 0;\n          v.open = true;\n          v.show = true;\n        } else {\n          root = v;\n          v.open = true;\n          v.show = true;\n        }\n      });\n      data.sort(this.compare);\n      data.forEach(v => {\n        levels[v.deep] = levels[v.deep] || [];\n        levels[v.deep].push(v);\n        v.prev = levels[v.deep][levels[v.deep].length - 2];\n      });\n      this.root = root;\n      this.list = data;\n      console.log(\"daya\", data);\n      this.levels = levels;\n      if (this.direction == \"col\") {\n        this.calcHeight(root);\n        this.calcTop();\n        this.calSvg();\n      } else {\n        //default\n        this.calWidth(root);\n        this.calcLeft();\n        this.calSvgVer();\n      }\n    },\n    // 计算所有节点占用的高度和宽度是否展示\n    calcHeight(vnode) {\n      var me = this;\n      var height = 0;\n      if (vnode.parent && !vnode.parent.open) {\n        // 存在父节点并且父节点不展开\n        vnode.height = 0;\n        vnode.open = false;\n      } else if (!vnode.open) {\n        vnode.height = blockHeight;\n      }\n      if (vnode.children && vnode.children.length > 0) {\n        vnode.children.forEach(v => {\n          me.calcHeight(v);\n          height += v.height;\n        });\n      }\n      if (vnode.open) {\n        vnode.height = height || blockHeight;\n      }\n    },\n    calWidth(vnode) {\n      var me = this;\n      var width = 0;\n      if (vnode.parent && !vnode.parent.open) {\n        // 存在父节点并且父节点不展开\n        vnode.height = 0;\n        vnode.width = 0;\n        vnode.open = false;\n      } else if (!vnode.open) {\n        vnode.width = blockWidth;\n      }\n      if (vnode.children && vnode.children.length > 0) {\n        vnode.children.forEach(v => {\n          me.calWidth(v);\n          width += v.width;\n        });\n      }\n      if (vnode.open) {\n        vnode.width = width || blockWidth;\n      }\n    },\n    //计算svg的大小\n    calSvg() {\n      this.$nextTick(() => {\n        let maxHeight = this.levels\n          .flat(Infinity)\n          .filter(item => {\n            return item.show;\n          })\n          .sort((a, b) => {\n            return b.top - a.top;\n          })[0].top;\n        let svg = document.getElementById(this.svgId);\n        console.log(\"svg\", svg);\n        svg.setAttribute(\"height\", 500);\n        svg.setAttribute(\"width\", 700);\n        this.$emit(\n          \"toggle\",\n          this.$refs.treeContent.scrollWidth,\n          this.root.height\n        );\n      });\n    },\n    calSvgVer() {\n      this.$nextTick(() => {\n        let maxHeight = this.levels\n          .flat(Infinity)\n          .filter(item => {\n            return item.show;\n          })\n          .sort((a, b) => {\n            return b.top - a.top;\n          })[0].top;\n        // let svg = document.getElementById('svg')\n        let svg = document.getElementById(this.svgId);\n        svg.setAttribute(\"height\", this.$refs.treeContent.scrollHeight);\n        svg.setAttribute(\"width\", this.root.width);\n        this.$emit(\"toggle\", {\n          width: this.root.width,\n          height: this.$refs.treeContent.scrollHeight\n        });\n      });\n    },\n    // 计算节点top的位置\n    calcTop(vnode, prevHeight) {\n      if (!vnode) {\n        vnode = this.root;\n      }\n      prevHeight = prevHeight || 0;\n      vnode.top = prevHeight + vnode.height / 2;\n      if (vnode.children && vnode.children.length > 0) {\n        for (var i = 0; i < vnode.children.length; i++) {\n          var height = vnode.children[i].height;\n          this.calcTop(vnode.children[i], prevHeight);\n          prevHeight += height;\n        }\n      }\n      if (vnode.parent) {\n        var pLeft = vnode.parent.left + blockWidth - 40;\n        var pTop = vnode.parent.top;\n        var mLeft = (vnode.left + pLeft) / 2;\n        var mTop = (vnode.top + pTop) / 2;\n        vnode.path =\n          \"M\" +\n          vnode.left +\n          \",\" +\n          vnode.top +\n          \" C \" +\n          mLeft +\n          \" \" +\n          vnode.top +\n          \",\" +\n          mLeft +\n          \" \" +\n          pTop +\n          \",\" +\n          pLeft +\n          \" \" +\n          pTop +\n          \"L \" +\n          (vnode.parent.left + 10) +\n          \",\" +\n          pTop;\n      }\n    },\n    // 节点左边位置\n    calcLeft(vnode, prevWidth) {\n      if (!vnode) {\n        vnode = this.root;\n      }\n      prevWidth = prevWidth || 0;\n      vnode.left = prevWidth + vnode.width / 2;\n      if (vnode.children && vnode.children.length > 0) {\n        for (var i = 0; i < vnode.children.length; i++) {\n          var width = vnode.children[i].width;\n          this.calcLeft(vnode.children[i], prevWidth);\n          prevWidth += width;\n        }\n      }\n      if (vnode.parent) {\n        var pLeft = vnode.parent.left + 115;\n        var pTop = vnode.parent.top + 150;\n        var vLeft = vnode.left + 115;\n        var vTop = vnode.top;\n        var mLeft = (pLeft + vLeft) / 2;\n        var mTop = (pTop + vTop) / 2;\n        var x1 = vLeft > pLeft ? vLeft + 5 : vLeft - 5;\n        if (vLeft == pLeft) {\n          vnode.path =\n            \"M\" + vLeft + \",\" + vTop + \" \" + \" L \" + pLeft + \",\" + pTop;\n        } else {\n          vnode.path =\n            \"M\" +\n            vLeft +\n            \",\" +\n            vTop +\n            \" Q \" +\n            x1 +\n            \",\" +\n            (vTop - 30) +\n            \" \" +\n            mLeft +\n            \",\" +\n            (vTop - 30) +\n            \" T \" +\n            pLeft +\n            \",\" +\n            pTop;\n        }\n      }\n      console.log(\"vnode\", vnode);\n    },\n    // 收缩和展开\n    toggle(vnode) {\n      window.open(\"http://xt.sankuai.com/workbench/task/\" + vnode.taskName);\n      // window.location.href=\"http://xt.sankuai.com/workbench/task/\" + vnode.taskName;\n      // vnode.open = !vnode.open;\n      // console.log(\"vnode\",vnode)\n      // if(vnode.children){\n      //   vnode.children.map( (child) =>{\n      //     child.show = !child.show\n      //   })\n      // }\n      // if(this.direction == \"col\"){\n      //     this.calcHeight(this.root);\n      //     this.calcTop()\n      //     this.calSvg() ;\n      // }else{\n      //   this.calWidth(this.root);\n      //   this.calcLeft();\n      //   this.calSvgVer() ;\n      // }\n      // console.log('toggle:', vnode, vnode.open);\n    },\n    //自定义事件\n    showDetail(data) {\n      delete data.children;\n      this.$emit(\"detail\", data);\n    },\n    addTarget(data) {\n      delete data.children;\n      console.log(\"1111111\", data);\n      this.$emit(\"add\", data);\n    },\n    editTarget(data) {\n      delete data.children;\n      console.log(\"2222222\", data);\n      this.$emit(\"edit\", data);\n    },\n    detailTarget(data) {\n      delete data.children;\n      this.$emit(\"detail\", data);\n    },\n    refreshTarget(data) {\n      delete data.children;\n      console.log(\"3333333\", data);\n      this.$emit(\"refresh\", data);\n    }\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  font-size: 14px;\n}\n.draw-area {\n  position: relative;\n  width: 100%;\n  height: calc(100vh - 100px);\n  margin: 40px auto;\n  text-align: left;\n}\nsvg {\n  z-index: 0;\n}\n.vnode {\n  position: absolute;\n  z-index: 100;\n  top: 10px;\n  left: 10px;\n  height: 160px;\n  margin: 0;\n  margin-top: -10px;\n  font-size: 13px;\n  line-height: 20px;\n  border-radius: 3px;\n  background: #ffffff;\n  box-shadow: 1px 2px 10px 3px rgba(0, 0, 0, 0.08);\n  transition: top 0.3s;\n  cursor: pointer;\n  width: 230px;\n  /* background: rgb(233, 143, 163); */\n  /* width: 230px;\n    overflow:hidden; */\n}\n.vnode .text {\n  padding: 0 10px;\n}\n.pnode::after {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  display: inline-block;\n  width: 216px;\n  height: 1px;\n  /* background: #E1244E; */\n}\n.link {\n  fill-opacity: 0;\n}\n.tip {\n  z-index: 999;\n  display: block;\n  padding: 5px;\n  border: 1px solid #eee;\n  line-height: 20px;\n  border-radius: 5px;\n  background: transparent;\n}\n.vnode:hover {\n  z-index: 999;\n}\n.vnode:hover .tip {\n  display: block;\n}\n/**ruler部分*/\n.ruler-head {\n  font-size: 14px;\n  text-align: left;\n}\n.ruler-head span {\n  display: inline-block;\n  width: 50px;\n  text-align: center;\n}\n.ruler {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 100px;\n  margin-top: 10px;\n  margin-left: 10px;\n}\n.ruler-ruler {\n  position: relative;\n  right: 10px;\n  left: 5px;\n  display: inline-block;\n  width: 10px;\n  height: 100px;\n  background: #9a9797;\n}\n.ruler-deg {\n  position: absolute;\n  top: 50px;\n  left: 0;\n  width: 0;\n  width: 0;\n  height: 10px;\n  margin-top: -5px;\n  padding-left: 3px;\n  border-left: 20px solid #666;\n  font-size: 10px;\n  line-height: 10px;\n  text-align: center;\n  color: #666;\n  background: transparent;\n  cursor: row-resize;\n  -webkit-user-select: none; /* Chrome/Safari/Opera */\n  -moz-user-select: none; /* Firefox */\n  user-select: none;\n  -webkit-touch-callout: none; /* iOS Safari */\n}\n.vnode .text {\n  position: relative;\n  height: 100%;\n  max-width: 230px;\n}\n.vnode .text .node_title {\n  padding: 3px 11px 0px 11px;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n}\n.vnode .text .node_title .OKR {\n  display: inline-block;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  color: #fff;\n  line-height: 35px;\n  text-align: center;\n  font-size: 1.2rem;\n}\n.vnode .text .node_title .pink {\n  background-color: #e1244e;\n}\n.vnode .text .node_title .blue {\n  background-color: #58c2ef;\n}\n.vnode .text .node_title .label {\n  max-width: 130px;\n  height: 40px;\n  line-height: 40px;\n  overflow: hidden;\n  padding-left: 10px;\n  font-size: 1rem;\n  color: #1f1f1f;\n  display: inline-block;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.vnode .text .node_title .label button {\n  overflow: hidden;\n  color: #1f1f1f !important;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 140px;\n  display: inline-block;\n  line-height: 35px;\n  text-align: left;\n}\n.vnode .text .node_des {\n  display: flex;\n  flex-direction: column;\n  /* margin-left: 56px; */\n  height: 60px;\n  color: #777777;\n  font-size: 12px;\n  justify-content: flex-start;\n  margin: 40px 0 0 0;\n}\n.vnode .text .node_des div {\n  width: 190px;\n  text-align: center;\n  word-wrap: break-word;\n}\n.vnode .text .node_des div:nth-child(2) {\n  margin-top: 5px;\n}\n.vnode .text .node_progress {\n  position: absolute;\n  width: 200px;\n  bottom: 0px;\n  height: 40px;\n  border-top: 1px solid #d8d8d8;\n  line-height: 40px;\n}\n.vnode .text .node_progress .el-progress {\n  display: inline;\n}\n.vnode .text .node_progress .el-progress .el-progress__text {\n  font-size: 12px !important;\n  color: #777777 !important;\n}\n.vnode .text .showTips {\n  position: absolute;\n  left: 225px;\n  top: 0px;\n  opacity: 0;\n}\n.vnode .text .showTips a {\n  display: inline-block;\n}\n.vnode .text .showTips .tips_icon {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  text-decoration: none;\n  padding: 3px;\n  background: #ffffff;\n  box-shadow: 1px 2px 10px 3px rgba(0, 0, 0, 0.08);\n  transition: all 0.5s ease 0s;\n  color: #777777;\n}\n.vnode .text .showTips .tips_icon:hover {\n  color: #58c2ef;\n}\n.vnode .text:hover .showTips {\n  opacity: 1;\n}\n.el-progress__text {\n  font-size: 12px !important;\n  color: #777777 !important;\n}\n.text {\n  font-size: 14px;\n}\n\n.item {\n  margin-bottom: 18px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgTree.vue?vue&type=template&id=5c52957c&\"\nimport script from \"./SvgTree.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SvgTree.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <el-card class=\"box-card\">\n      <div class=\"text item\">1.数据来源：Cantor API</div>\n      <div class=\"text item\">2.高亮黄色为含有弱依赖的任务，如果在白名单中则不高亮展示，可以增/删报警白名单</div>\n      <div class=\"text item\">3.可以在依赖树中点击卡片跳转到xt平台进行配置</div>\n      <div class=\"text item\">4.依赖树为快照数据，可刷新为最新数据</div>\n      <div class=\"text item\">5.任务备注可以点击编辑</div>\n    </el-card>\n\n    <el-row :gutter=\"2\">\n      <el-col :span=\"2\" :offset=\"16\">\n        <el-dropdown>\n          <el-button>\n            过滤项目组\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item>hmart_waimaiuser</el-dropdown-item>\n            <el-dropdown-item>hmart_waimai_bizdata</el-dropdown-item>\n            <el-dropdown-item>hmart_waimaibizdata</el-dropdown-item>\n            <el-dropdown-item>hadoop-waimaibizdata</el-dropdown-item>\n            <el-dropdown-item>hadoop-hmart-waimaiuser</el-dropdown-item>\n            <el-dropdown-item>mart_waimaibizdatacollect_bizdatacollect</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </el-col>\n      <el-col :span=\"2\">\n        <el-dropdown @command=\"handleCommand\">\n          <el-button>\n            报警白名单\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item\n              v-for=\"(item,index) in whiteDropList\"\n              :command=\"item.name\"\n              :key=\"index\"\n            >\n              {{item.name}}\n              <i class=\"el-icon-delete\"></i>\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </el-col>\n      <el-col :span=\"2\">\n        <el-button @click=\"addTask\">增加ETL任务</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table\n      :data=\"tableData\"\n      border\n      :row-class-name=\"tableRowClassName\"\n      @cell-click=\"showEditRemark\"\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"taskname\" label=\"任务名\"></el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-input\n            v-model=\"scope.row.remark\"\n            placeholder=\"请输入备注\"\n            v-show=\"scope.row.showEdit\"\n            :ref=\"'remark'+scope.$index\"\n            @blur=\"handleUpdate(scope.$index, scope.row)\"\n            @keyup.enter.native=\"handleUpdate(scope.$index, scope.row)\"\n          ></el-input>\n          <span v-show=\"!scope.row.showEdit\">{{scope.row.remark}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"utime\" label=\"依赖树快照时间\" width=\"200\"></el-table-column>\n      <el-table-column width=\"340\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"showTree(scope.$index, scope)\"\n            type=\"text\"\n            size=\"small\"\n          >展示依赖树</el-button>\n          <el-button\n            @click.native.prevent=\"refreshTree(scope.$index, scope)\"\n            type=\"text\"\n            size=\"small\"\n          >刷新依赖树</el-button>\n          <el-button\n            @click.native.prevent=\"addWhiteList(scope.$index, scope)\"\n            type=\"text\"\n            size=\"small\"\n          >添加白名单</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-drawer title=\"依赖树\" :visible.sync=\"drawer\" size=\"80%\" :with-header=\"false\">\n      <div>\n        <VueSvgTree :treeData=\"treeData\" direction=\"row\" svgId=\"svg\" ref=\"svgTree\"></VueSvgTree>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport {\n  getTaskParents,\n  getTaskParentsWithoutFilter,\n  getEtlTask,\n  addTask,\n  updateRemark,\n  addWhiteList,\n  removeWhiteList,\n  getWhiteList\n} from \"@/service/getData\";\n\nimport VueSvgTree from \"@/components/SvgTree.vue\";\n\nexport default {\n  components: {\n    VueSvgTree\n  },\n  data() {\n    return {\n      activeIndex: \"1\",\n      statusMap: {\n        0: \"未开始\",\n        1: \"运行中\",\n        2: \"执行出错\",\n        3: \"执行成功\",\n        4: \"暂停调度\",\n        13: \"就绪，等待执行\"\n      },\n      input: \"\",\n      treeData: [],\n      tableData: [],\n      whiteDropList: [],\n      whiteList: [],\n      drawer: false\n    };\n  },\n  async mounted() {\n    this.getWhiteList();\n    await this.initTask();\n\n    if (this.$route.query.taskName != null) {\n      this.tableData.forEach(data => {\n        if (data.taskname == this.$route.query.taskName) {\n          console.log(\"route data\", data);\n          this.treeData = data.treeData;\n          this.drawer = true;\n        }\n      });\n    }\n  },\n  methods: {\n    initData() {\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n      let params = {\n        taskName:\n          \"mart_waimaibizdatacollect_bizdatacollect.wm_bizdata_poly_map_dis_aor_v4\"\n      };\n      console.log(params);\n      getTaskParents(params)\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let me = this;\n            let data = res.data.data;\n            let queue = [];\n            let id = 1;\n            data[\"id\"] = id++;\n            queue.push(data);\n            this.treeData = [];\n            this.treeData.push({\n              id: data[\"id\"],\n              taskName: data[\"taskName\"],\n              fatherId: 0,\n              time: data[\"execTime\"],\n              status: me.statusMap[data[\"status\"]]\n            });\n            console.log(this.treeData);\n            while (queue.length != 0) {\n              let task = queue.shift();\n              console.log(task[\"taskName\"], task);\n              let parents = task[\"parents\"];\n              if (parents != null) {\n                parents.forEach(p => {\n                  p[\"id\"] = id++;\n                  queue.push(p);\n                  this.treeData.push({\n                    id: p[\"id\"],\n                    taskName: p[\"taskName\"],\n                    dependType: p[\"dependType\"],\n                    color: p[\"dependType\"] == 1 ? \"black\" : \"red\",\n                    fatherId: task[\"id\"],\n                    time: p[\"execTime\"],\n                    status: me.statusMap[p[\"status\"]]\n                  });\n                  console.log(this.treeData);\n                });\n              }\n            }\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    async initTask() {\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n\n      await getEtlTask()\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let me = this;\n            let data = res.data.data;\n            if (data != null && data != undefined) {\n              this.tableData = [];\n              data.forEach(mainTask => {\n                let tableTask = {};\n                tableTask[\"taskname\"] = mainTask[\"taskName\"];\n                tableTask[\"remark\"] = mainTask[\"remark\"];\n                tableTask[\"utime\"] = mainTask[\"utime\"];\n                tableTask[\"hasWeakRelation\"] =\n                  mainTask[\"weakRelation\"].length > 0 &&\n                  this.whiteList.indexOf(mainTask[\"taskName\"]) == -1;\n                console.log(\n                  \"weakRelation\",\n                  this.whiteList,\n                  mainTask[\"taskName\"]\n                );\n                let queue = [];\n\n                let id = 1;\n                mainTask[\"id\"] = id++;\n                queue.push(mainTask);\n                let innerTreeData = [];\n                innerTreeData.push({\n                  id: mainTask[\"id\"],\n                  taskName: mainTask[\"taskName\"],\n                  fatherId: 0,\n                  time: mainTask[\"execTime\"],\n                  status: me.statusMap[mainTask[\"status\"]]\n                });\n\n                while (queue.length != 0) {\n                  let task = queue.shift();\n                  console.log(task[\"taskName\"], task);\n                  let parents = task[\"parents\"];\n                  if (parents != null) {\n                    parents.forEach(p => {\n                      p[\"id\"] = id++;\n                      queue.push(p);\n                      innerTreeData.push({\n                        id: p[\"id\"],\n                        taskName: p[\"taskName\"],\n                        dependType: p[\"dependType\"],\n                        color: p[\"dependType\"] == 1 ? \"black\" : \"red\",\n                        fatherId: task[\"id\"],\n                        time: p[\"execTime\"],\n                        status: me.statusMap[p[\"status\"]]\n                      });\n                    });\n                  }\n                }\n\n                id = 1;\n                queue.push(mainTask);\n                let innerAllTreeData = [];\n                innerAllTreeData.push({\n                  id: mainTask[\"id\"],\n                  taskName: mainTask[\"taskName\"],\n                  fatherId: 0,\n                  time: mainTask[\"execTime\"],\n                  status: me.statusMap[mainTask[\"status\"]]\n                });\n                while (queue.length != 0) {\n                  let task = queue.shift();\n                  console.log(task[\"taskName\"], task);\n                  let parents = task[\"allParents\"];\n                  if (parents != null) {\n                    parents.forEach(p => {\n                      p[\"id\"] = id++;\n                      queue.push(p);\n                      innerAllTreeData.push({\n                        id: p[\"id\"],\n                        taskName: p[\"taskName\"],\n                        dependType: p[\"dependType\"],\n                        color: p[\"dependType\"] == 1 ? \"black\" : \"red\",\n                        fatherId: task[\"id\"],\n                        time: p[\"execTime\"],\n                        status: me.statusMap[p[\"status\"]]\n                      });\n                    });\n                  }\n                }\n                tableTask[\"treeData\"] = innerTreeData;\n                tableTask[\"allTreeData\"] = innerAllTreeData;\n                this.tableData.push(tableTask);\n              });\n            }\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.index = rowIndex;\n      if (row[\"hasWeakRelation\"]) {\n        return \"warning-row\";\n      }\n      return \"\";\n    },\n    showTree(index, scope) {\n      console.log(scope);\n      this.treeData = scope.row.treeData;\n      this.drawer = true;\n    },\n    showAllTree(index, scope) {\n      console.log(scope);\n      this.treeData = scope.row.allTreeData;\n      this.drawer = true;\n    },\n    showEditRemark(row, column, cell, event) {\n      console.log(row, column, cell, event);\n      if (!row.showEdit && column.property == \"remark\") {\n        row.showEdit = true;\n        this.$set(this.tableData, row.index, row);\n        console.log(\"refs\", this.$refs[`remark${row.index}`]);\n        this.$nextTick(function() {\n          this.$refs[`remark${row.index}`].$el.querySelector(\"input\").focus();\n        });\n        this.$set(this.tableData, row.index, row);\n      }\n    },\n    handleUpdate(index, row) {\n      console.log(row);\n      row.showEdit = false;\n      if (row.taskname != null && row.remark != null)\n        updateRemark(row.taskname, row.remark)\n          .then(res => {\n            console.log(res);\n            if (res.data.code === 0) {\n              this.$message.success(\"更新成功\");\n            } else {\n              this.$message.error(\"网络错误\");\n            }\n          })\n          .catch(error => {\n            this.$message.error(\"网络错误\");\n            console.error(error);\n          });\n      this.$set(this.tableData, row.index, row);\n    },\n    refreshTree(index, scope) {\n      let taskName = scope.row.treeData[0].taskName;\n\n      let params = {\n        taskName: taskName\n      };\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n      console.log(params);\n      getTaskParents(params)\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let me = this;\n            let data = res.data.data;\n            let queue = [];\n            let id = 1;\n            data[\"id\"] = id++;\n            queue.push(data);\n            let innerTreeData = [];\n            innerTreeData.push({\n              id: data[\"id\"],\n              taskName: data[\"taskName\"],\n              fatherId: 0,\n              time: data[\"execTime\"],\n              status: me.statusMap[data[\"status\"]]\n            });\n\n            while (queue.length != 0) {\n              let task = queue.shift();\n              console.log(task[\"taskName\"], task);\n              let parents = task[\"parents\"];\n              if (parents != null) {\n                parents.forEach(p => {\n                  p[\"id\"] = id++;\n                  queue.push(p);\n                  innerTreeData.push({\n                    id: p[\"id\"],\n                    taskName: p[\"taskName\"],\n                    dependType: p[\"dependType\"],\n                    color: p[\"dependType\"] == 1 ? \"black\" : \"red\",\n                    fatherId: task[\"id\"],\n                    time: p[\"execTime\"],\n                    status: me.statusMap[p[\"status\"]]\n                  });\n                  console.log(innerTreeData);\n                });\n              }\n            }\n\n            let tableTask = {};\n            tableTask[\"taskname\"] = data[\"taskName\"];\n            tableTask[\"remark\"] = data[\"remark\"];\n            tableTask[\"utime\"] = this.time();\n            tableTask[\"hasWeakRelation\"] =\n              data[\"weakRelation\"].length > 0 &&\n              this.whiteList.indexOf(data[\"taskName\"]) == -1;\n            tableTask[\"treeData\"] = innerTreeData;\n            let replaceIndex = -1;\n            this.tableData.forEach((task, index) => {\n              console.log(\"task\", task);\n              if (task[\"taskname\"] == taskName) {\n                replaceIndex = index;\n              }\n            });\n            console.log(\"index\", replaceIndex);\n            console.log(\"tableTask\", tableTask);\n\n            if (replaceIndex != -1) {\n              this.$set(this.tableData, replaceIndex, tableTask);\n            }\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    refreshAllTree(index, scope) {\n      let taskName = scope.row.treeData[0].taskName;\n\n      let params = {\n        taskName: taskName\n      };\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n      getTaskParentsWithoutFilter(params)\n        .then(res => {\n          if (res.data.code === 0) {\n            this.initTask();\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    addTask() {\n      this.$prompt(\"请输入ETL任务名\", \"\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      })\n        .then(({ value }) => {\n          const loading = this.$loading({\n            lock: true,\n            text: \"Loading\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\"\n          });\n          if (value != null) {\n            addTask(value)\n              .then(res => {\n                console.log(res);\n                if (res.data.code === 0) {\n                  getEtlTask()\n                    .then(res => {\n                      console.log(res);\n                      if (res.data.code === 0) {\n                        let me = this;\n                        let data = res.data.data;\n                        if (data != null && data != undefined) {\n                          this.tableData = [];\n                          data.forEach(mainTask => {\n                            let tableTask = {};\n                            tableTask[\"taskname\"] = mainTask[\"taskName\"];\n                            tableTask[\"remark\"] = mainTask[\"remark\"];\n                            tableTask[\"utime\"] = mainTask[\"utime\"];\n                            tableTask[\"hasWeakRelation\"] =\n                              mainTask[\"weakRelation\"].length > 0 &&\n                              this.whiteList.indexOf(mainTask[\"taskName\"]) ==\n                                -1;\n\n                            let queue = [];\n\n                            let id = 1;\n                            mainTask[\"id\"] = id++;\n                            queue.push(mainTask);\n                            let innerTreeData = [];\n                            innerTreeData.push({\n                              id: mainTask[\"id\"],\n                              taskName: mainTask[\"taskName\"],\n                              fatherId: 0,\n                              time: mainTask[\"execTime\"],\n                              status: me.statusMap[mainTask[\"status\"]]\n                            });\n                            console.log(innerTreeData);\n                            while (queue.length != 0) {\n                              let task = queue.shift();\n                              console.log(task[\"taskName\"], task);\n                              let parents = task[\"parents\"];\n                              if (parents != null) {\n                                parents.forEach(p => {\n                                  p[\"id\"] = id++;\n                                  queue.push(p);\n                                  innerTreeData.push({\n                                    id: p[\"id\"],\n                                    taskName: p[\"taskName\"],\n                                    dependType: p[\"dependType\"],\n                                    color:\n                                      p[\"dependType\"] == 1 ? \"black\" : \"red\",\n                                    fatherId: task[\"id\"],\n                                    time: p[\"execTime\"],\n                                    status: me.statusMap[p[\"status\"]]\n                                  });\n                                });\n                              }\n                            }\n                            tableTask[\"treeData\"] = innerTreeData;\n                            this.tableData.push(tableTask);\n                          });\n                        }\n                      } else {\n                        this.$message.error(\"网络错误\");\n                      }\n                      loading.close();\n                    })\n                    .catch(error => {\n                      loading.close();\n                      this.$message.error(\"网络错误\");\n                      console.error(error);\n                    });\n                  this.$message.success(\"更新成功\");\n                  this.$set(this.tableData, 0, this.tableData[0]);\n                } else if (res.data.code === 2) {\n                  this.$message.error(\"没有上游依赖\");\n                } else {\n                  this.$message.error(\"网络错误\");\n                }\n              })\n              .catch(error => {\n                this.$message.error(\"网络错误\");\n                console.error(error);\n              });\n          }\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"取消输入\"\n          });\n        });\n    },\n    getWhiteList() {\n      getWhiteList()\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let data = res.data.data;\n            this.whiteList = [];\n            this.whiteDropList = [];\n\n            let id = 1;\n            data.forEach(name => {\n              this.whiteDropList.push({\n                name: name,\n                index: id++\n              });\n              this.whiteList.push(name);\n            });\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n        })\n        .catch(error => {\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    addWhiteList(index, scope) {\n      let taskName = scope.row.treeData[0].taskName;\n      addWhiteList(taskName)\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            this.$message.success(\"添加成功\");\n            this.getWhiteList();\n            scope.row.hasWeakRelation = false;\n            this.$set(this.tableData, scope.row.index, scope.row);\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n        })\n        .catch(error => {\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    handleCommand(command) {\n      removeWhiteList(command)\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            this.$message.success(\"删除成功\");\n            this.getWhiteList();\n            this.initTask();\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n        })\n        .catch(error => {\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    time() {\n      var time = new Date();\n      var y = time.getFullYear();\n      var M = time.getMonth() + 1;\n      var d = time.getDate();\n      var h = time.getHours();\n      var m = time.getMinutes();\n      var s = time.getSeconds();\n      return (\n        y +\n        \"-\" +\n        this.addZero(M) +\n        \"-\" +\n        this.addZero(d) +\n        \" \" +\n        this.addZero(h) +\n        \":\" +\n        this.addZero(m) +\n        \":\" +\n        this.addZero(s)\n      );\n    },\n    addZero(m) {\n      return m < 10 ? \"0\" + m : m;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\n.el-table {\n  margin: 10px 0 20px 0;\n}\n.el-tag {\n  margin: 20px 0 20px 0;\n}\n.text {\n  font-size: 14px;\n  text-align: left;\n}\n\n.el-col {\n  margin-right: 30px;\n}\n\n.item {\n  padding: 2px 0;\n}\n.box-card {\n  width: 800px;\n  margin: 5px 0px 20px 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskRelationsData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskRelationsData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskRelationsData.vue?vue&type=template&id=fa4245ee&scoped=true&\"\nimport script from \"./TaskRelationsData.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskRelationsData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskRelationsData.vue?vue&type=style&index=0&id=fa4245ee&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa4245ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"text item\"},[_vm._v(\"1.数据来源：Cantor API\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"2.可查看最近30天daily类型的ETL就绪时间\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"3.使用箱形图检测异常就绪时间：借助值序列的第一四分位(Q1)和第三四分位(Q3)计算边缘，大于Q3+k(Q3-Q1)的值认为为异常值，k一般取1.5\")])]),_c('el-row',{attrs:{\"gutter\":2}},[_c('el-col',{attrs:{\"offset\":22,\"span\":2}},[_c('el-button',{on:{\"click\":_vm.addTask}},[_vm._v(\"增加ETL任务\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"row-class-name\":_vm.tableRowClassName},on:{\"cell-click\":_vm.showEditRemark}},[_c('el-table-column',{attrs:{\"prop\":\"taskname\",\"label\":\"任务名\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.showEdit),expression:\"scope.row.showEdit\"}],ref:'remark'+scope.$index,attrs:{\"placeholder\":\"请输入备注\"},on:{\"blur\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleUpdate(scope.$index, scope.row)}},model:{value:(scope.row.remark),callback:function ($$v) {_vm.$set(scope.row, \"remark\", $$v)},expression:\"scope.row.remark\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!scope.row.showEdit),expression:\"!scope.row.showEdit\"}]},[_vm._v(_vm._s(scope.row.remark))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"expectStartTime\",\"label\":\"预期最晚开始时间\",\"width\":\"280\"}}),_c('el-table-column',{attrs:{\"prop\":\"expectReadyTime\",\"label\":\"预期最晚就绪时间\",\"width\":\"280\"}}),_c('el-table-column',{attrs:{\"width\":\"180\",\"label\":\"就绪时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showLine(scope.$index, scope)}}},[_vm._v(\"展示就绪时间\")])]}}])})],1),_c('el-drawer',{attrs:{\"title\":\"历史就绪时间\",\"visible\":_vm.drawer,\"size\":\"60%\",\"with-header\":false},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('div',[_c('echart',{ref:\"chart-start\",staticClass:\"drawer-content\",attrs:{\"options\":_vm.startOptions,\"auto-resize\":true}})],1),_c('div',{staticStyle:{\"margin-top\":\"50px\"}},[_c('echart',{ref:\"chart-ready\",staticClass:\"drawer-content\",attrs:{\"options\":_vm.readyOptions,\"auto-resize\":true}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card class=\"box-card\">\n      <div class=\"text item\">1.数据来源：Cantor API</div>\n      <div class=\"text item\">2.可查看最近30天daily类型的ETL就绪时间</div>\n      <div\n        class=\"text item\"\n      >3.使用箱形图检测异常就绪时间：借助值序列的第一四分位(Q1)和第三四分位(Q3)计算边缘，大于Q3+k(Q3-Q1)的值认为为异常值，k一般取1.5</div>\n    </el-card>\n    <el-row :gutter=\"2\">\n      <el-col :offset=\"22\" :span=\"2\">\n        <el-button @click=\"addTask\">增加ETL任务</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table\n      :data=\"tableData\"\n      border\n      :row-class-name=\"tableRowClassName\"\n      @cell-click=\"showEditRemark\"\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"taskname\" label=\"任务名\"></el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\" width=\"280\">\n        <template slot-scope=\"scope\">\n          <el-input\n            v-model=\"scope.row.remark\"\n            placeholder=\"请输入备注\"\n            v-show=\"scope.row.showEdit\"\n            :ref=\"'remark'+scope.$index\"\n            @blur=\"handleUpdate(scope.$index, scope.row)\"\n            @keyup.enter.native=\"handleUpdate(scope.$index, scope.row)\"\n          ></el-input>\n          <span v-show=\"!scope.row.showEdit\">{{scope.row.remark}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"expectStartTime\" label=\"预期最晚开始时间\" width=\"280\"></el-table-column>\n      <el-table-column prop=\"expectReadyTime\" label=\"预期最晚就绪时间\" width=\"280\"></el-table-column>\n      <el-table-column width=\"180\" label=\"就绪时间\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"showLine(scope.$index, scope)\"\n            type=\"text\"\n            size=\"small\"\n          >展示就绪时间</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-drawer title=\"历史就绪时间\" :visible.sync=\"drawer\" size=\"60%\" :with-header=\"false\">\n      <div>\n        <echart\n          ref=\"chart-start\"\n          :options=\"startOptions\"\n          :auto-resize=\"true\"\n          class=\"drawer-content\"\n        ></echart>\n      </div>\n      <div style=\"margin-top:50px\">\n        <echart\n          ref=\"chart-ready\"\n          :options=\"readyOptions\"\n          :auto-resize=\"true\"\n          class=\"drawer-content\"\n        ></echart>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport {\n  getTaskParents,\n  getEtlTask,\n  addReadyTask,\n  updateRemark,\n  getEtlTaskReadyTime\n} from \"@/service/getData\";\n\nimport VueSvgTree from \"@/components/SvgTree.vue\";\n\nexport default {\n  components: {\n    VueSvgTree\n  },\n  data() {\n    return {\n      activeIndex: \"1\",\n      statusMap: {\n        0: \"未开始\",\n        1: \"运行中\",\n        2: \"执行出错\",\n        3: \"执行成功\",\n        4: \"暂停调度\",\n        13: \"就绪，等待执行\"\n      },\n      input: \"\",\n      treeData: [],\n      tableData: [],\n      startOptions: {\n        xAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              var date = new Date(value);\n              var texts = [date.getMonth() + 1, date.getDate()];\n\n              return texts.join(\"/\");\n            }\n          },\n          boundaryGap: [\"30%\", \"10%\"]\n        },\n        yAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              return this.secondToHour(value);\n            }\n          }\n        },\n        series: [\n          {\n            data: [],\n            type: \"line\"\n          }\n        ]\n      },\n      readyOptions: {\n        xAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              var date = new Date(value);\n              var texts = [date.getMonth() + 1, date.getDate()];\n\n              return texts.join(\"/\");\n            }\n          },\n          boundaryGap: [\"30%\", \"10%\"]\n        },\n        yAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              return this.secondToHour(value);\n            }\n          }\n        },\n        series: [\n          {\n            data: [],\n            type: \"line\"\n          }\n        ]\n      },\n      drawer: false\n    };\n  },\n  async mounted() {\n    await this.initTaskReadyTime();\n    if (this.$route.query.taskName != null) {\n      this.tableData.forEach(data => {\n        if (data.taskname == this.$route.query.taskName) {\n          console.log(\"route data\", data);\n          let scope = {\n            row: data\n          };\n          this.showLine(0, scope);\n        }\n      });\n    }\n  },\n  methods: {\n    async initTaskReadyTime() {\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n      await getEtlTaskReadyTime()\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let data = res.data.data;\n            if (data != null && data != undefined) {\n              this.tableData = [];\n              data.forEach(taskReadyTime => {\n                let tableReadyTime = {};\n                tableReadyTime[\"taskname\"] = taskReadyTime[\"taskName\"];\n                let expectStartTimeStamp = taskReadyTime[\"expectStartTime\"];\n                let expectReadyTimeStamp = taskReadyTime[\"expectReadyTime\"];\n                tableReadyTime[\"expectStartTime\"] = this.secondToHour(\n                  taskReadyTime[\"expectStartTime\"]\n                );\n                tableReadyTime[\"expectReadyTime\"] = this.secondToHour(\n                  taskReadyTime[\"expectReadyTime\"]\n                );\n\n                let readyTimes = [];\n                let startTimes = [];\n                let expectReadyTimes = [];\n                let expectStartTimes = [];\n                taskReadyTime[\"readyTimes\"].forEach(readyTime => {\n                  readyTimes.push([readyTime.dateTime, readyTime.readyTime]);\n                  startTimes.push([readyTime.dateTime, readyTime.startTime]);\n                  expectReadyTimes.push([\n                    readyTime.dateTime,\n                    expectReadyTimeStamp\n                  ]);\n                  expectStartTimes.push([\n                    readyTime.dateTime,\n                    expectStartTimeStamp\n                  ]);\n                });\n                tableReadyTime[\"readyTimeData\"] = readyTimes;\n                tableReadyTime[\"startTimeData\"] = startTimes;\n                tableReadyTime[\"expectReadyTimes\"] = expectReadyTimes;\n                tableReadyTime[\"expectStartTimes\"] = expectStartTimes;\n\n                this.tableData.push(tableReadyTime);\n              });\n            }\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.index = rowIndex;\n      if (row[\"hasWeakRelation\"]) {\n        return \"warning-row\";\n      }\n      return \"\";\n    },\n    showLine(index, scope) {\n      console.log(scope);\n      this.startOptions = {\n        title: {\n          text: \"近30天任务开始时间\",\n          left: \"center\"\n        },\n        tooltip: {\n          triggerOn: \"mousemove\",\n          formatter: value => {\n            console.log(value);\n            var date = new Date(value.data[0] * 1000);\n            var texts = [date.getMonth() + 1, date.getDate()];\n            var dateStr = texts.join(\"/\");\n\n            var time = this.secondToHour(value.data[1]);\n            return dateStr + \"\\n\" + time;\n          }\n        },\n        legend: {\n          bottom: 0\n        },\n        xAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              var date = new Date(value * 1000);\n              var texts = [date.getMonth() + 1, date.getDate()];\n\n              return texts.join(\"/\");\n            }\n          },\n          boundaryGap: [\"30%\", \"10%\"]\n        },\n        yAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              return this.secondToHour(value);\n            }\n          }\n        },\n        series: [\n          {\n            name: \"开始时间\",\n            data: scope.row.startTimeData,\n            type: \"line\"\n          },\n          {\n            name: \"预期最晚开始时间\",\n            data: scope.row.expectStartTimes,\n            type: \"line\",\n            symbol: \"none\"\n          }\n        ]\n      };\n      this.readyOptions = {\n        title: {\n          text: \"近30天任务就绪时间\",\n          left: \"center\"\n        },\n        tooltip: {\n          triggerOn: \"mousemove\",\n          axisPointer: {\n            snap: true\n          },\n          formatter: value => {\n            console.log(value);\n            var date = new Date(value.data[0] * 1000);\n            var texts = [date.getMonth() + 1, date.getDate()];\n            var dateStr = texts.join(\"/\");\n\n            var time = this.secondToHour(value.data[1]);\n            return dateStr + \"<br />\" + time;\n          }\n        },\n        \n        legend: {\n          bottom: 0\n        },\n        xAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              var date = new Date(value * 1000);\n              var texts = [date.getMonth() + 1, date.getDate()];\n\n              return texts.join(\"/\");\n            }\n          },\n          boundaryGap: [\"30%\", \"10%\"]\n        },\n        yAxis: {\n          type: \"time\",\n          axisLabel: {\n            formatter: value => {\n              return this.secondToHour(value);\n            }\n          }\n        },\n\n        series: [\n          {\n            name: \"就绪时间\",\n            data: scope.row.readyTimeData,\n            type: \"line\"\n          },\n          {\n            name: \"预期最晚就绪时间\",\n            data: scope.row.expectReadyTimes,\n            type: \"line\",\n            symbol: \"none\"\n          }\n        ]\n      };\n      console.log(this.orgOptions);\n      this.drawer = true;\n    },\n    showEditRemark(row, column, cell, event) {\n      console.log(row, column, cell, event);\n      if (!row.showEdit && column.property == \"remark\") {\n        row.showEdit = true;\n        this.$set(this.tableData, row.index, row);\n        console.log(\"refs\", this.$refs[`remark${row.index}`]);\n        this.$nextTick(function() {\n          this.$refs[`remark${row.index}`].$el.querySelector(\"input\").focus();\n        });\n        this.$set(this.tableData, row.index, row);\n      }\n    },\n    handleUpdate(index, row) {\n      console.log(row);\n      row.showEdit = false;\n      if (row.taskname != null && row.remark != null)\n        updateRemark(row.taskname, row.remark)\n          .then(res => {\n            console.log(res);\n            if (res.data.code === 0) {\n              this.$message.success(\"更新成功\");\n            } else {\n              this.$message.error(\"网络错误\");\n            }\n          })\n          .catch(error => {\n            this.$message.error(\"网络错误\");\n            console.error(error);\n          });\n      this.$set(this.tableData, row.index, row);\n    },\n    time() {\n      var time = new Date();\n      var y = time.getFullYear();\n      var M = time.getMonth() + 1;\n      var d = time.getDate();\n      var h = time.getHours();\n      var m = time.getMinutes();\n      var s = time.getSeconds();\n      return (\n        y +\n        \"-\" +\n        this.addZero(M) +\n        \"-\" +\n        this.addZero(d) +\n        \" \" +\n        this.addZero(h) +\n        \":\" +\n        this.addZero(m) +\n        \":\" +\n        this.addZero(s)\n      );\n    },\n    addTask() {\n      this.$prompt(\"请输入ETL任务名\", \"\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      })\n        .then(({ value }) => {\n          if (value != null) {\n            const loading = this.$loading({\n              lock: true,\n              text: \"Loading\",\n              spinner: \"el-icon-loading\",\n              background: \"rgba(0, 0, 0, 0.7)\"\n            });\n            addReadyTask(value)\n              .then(res => {\n                console.log(res);\n                if (res.data.code === 0) {\n                  this.initTaskReadyTime();\n                  this.$message.success(\"更新成功\");\n                  this.$set(this.tableData, 0, this.tableData[0]);\n                } else {\n                  this.$message.error(\"网络错误\");\n                }\n                loading.close();\n              })\n              .catch(error => {\n                this.$message.error(\"网络错误\");\n                console.error(error);\n                loading.close();\n              });\n          }\n        })\n        .catch(error => {\n          console.error(error);\n          this.$message({\n            type: \"info\",\n            message: \"取消输入\"\n          });\n        });\n    },\n    addZero(m) {\n      return m < 10 ? \"0\" + m : m;\n    },\n    secondToHour(value) {\n      let hour = Math.floor(value / 3600);\n      let minute = Math.floor((value - hour * 3600) / 60);\n      let second = value - hour * 3600 - minute * 60;\n      let texts = [\n        this.addZero(hour),\n        this.addZero(minute),\n        this.addZero(second)\n      ];\n\n      return texts.join(\":\");\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\n.el-table {\n  margin: 5px 0 20px 0;\n}\n.el-tag {\n  margin: 20px 0 20px 0;\n}\n.text {\n  font-size: 14px;\n  text-align: left;\n}\n\n.item {\n  padding: 2px 0;\n}\n.box-card {\n  width: 800px;\n  margin: 5px 0px 20px 0;\n}\n.drawer-content {\n  margin: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAlarmData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskAlarmData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskAlarmData.vue?vue&type=template&id=ed1cd8c8&scoped=true&\"\nimport script from \"./TaskAlarmData.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskAlarmData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskAlarmData.vue?vue&type=style&index=0&id=ed1cd8c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed1cd8c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"text item\"},[_vm._v(\"1.数据来源：Cantor API\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"2.关系图为力导图，节点位置自动定义，图可缩放和拖拽\")]),_c('div',{staticClass:\"text item\"},[_vm._v(\"3.可把多个叶子结点放在一个关系图中查看\")])]),_c('el-row',{attrs:{\"gutter\":2}},[_c('el-col',{attrs:{\"span\":2}},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"选择叶子结点：\")])],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择叶子结点\"},on:{\"change\":_vm.change},model:{value:(_vm.leafTasksValue),callback:function ($$v) {_vm.leafTasksValue=$$v},expression:\"leafTasksValue\"}},_vm._l((_vm.leafTasks),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":3,\"offset\":6}},[_c('el-dropdown',[_c('el-button',[_vm._v(\" 过滤的项目组 \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"hmart_waimaiuser\")]),_c('el-dropdown-item',[_vm._v(\"hmart_waimai_bizdata\")]),_c('el-dropdown-item',[_vm._v(\"hmart_waimaibizdata\")]),_c('el-dropdown-item',[_vm._v(\"hadoop-waimaibizdata\")]),_c('el-dropdown-item',[_vm._v(\"hadoop-hmart-waimaiuser\")]),_c('el-dropdown-item',[_vm._v(\"mart_waimaibizdatacollect_bizdatacollect\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{on:{\"click\":_vm.addTask}},[_vm._v(\"增加叶子ETL任务\")])],1)],1),_c('div',{staticClass:\"container\"},[_c('echart',{ref:\"chart\",style:(_vm.chartStyle),attrs:{\"options\":_vm.graphOptions,\"initOptions\":_vm.initOptions,\"auto-resize\":true},on:{\"dblclick\":_vm.handleClick,\"click\":_vm.copy}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card class=\"box-card\">\n      <div class=\"text item\">1.数据来源：Cantor API</div>\n      <div class=\"text item\">2.关系图为力导图，节点位置自动定义，图可缩放和拖拽</div>\n      <div class=\"text item\">3.可把多个叶子结点放在一个关系图中查看</div>\n    </el-card>\n    <el-row :gutter=\"2\">\n      <el-col :span=\"2\">\n        <el-tag type=\"info\">选择叶子结点：</el-tag>\n      </el-col>\n      <el-col :span=\"10\">\n        <el-select @change=\"change\" v-model=\"leafTasksValue\" multiple placeholder=\"请选择叶子结点\">\n          <el-option\n            v-for=\"item in leafTasks\"\n            :key=\"item.key\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-col>\n      <el-col :span=\"3\" :offset=\"6\">\n        <el-dropdown>\n          <el-button>\n            过滤的项目组\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item>hmart_waimaiuser</el-dropdown-item>\n            <el-dropdown-item>hmart_waimai_bizdata</el-dropdown-item>\n            <el-dropdown-item>hmart_waimaibizdata</el-dropdown-item>\n            <el-dropdown-item>hadoop-waimaibizdata</el-dropdown-item>\n            <el-dropdown-item>hadoop-hmart-waimaiuser</el-dropdown-item>\n            <el-dropdown-item>mart_waimaibizdatacollect_bizdatacollect</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </el-col>\n      <el-col :span=\"2\">\n        <el-button @click=\"addTask\">增加叶子ETL任务</el-button>\n      </el-col>\n    </el-row>\n\n    <div class=\"container\">\n      <echart @dblclick=\"handleClick\" @click=\"copy\" ref=\"chart\" :options=\"graphOptions\" :initOptions=\"initOptions\" :auto-resize=\"true\" v-bind:style=\"chartStyle\"></echart>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport {\n  getTaskParents,\n  getEtlTask,\n  addReadyTask,\n  updateRemark,\n  getEtlTaskReadyTime,\n  getAllLeafTask,\n  addTaskDepend,\n  getTaskGraph\n} from \"@/service/getData\";\n\nimport VueSvgTree from \"@/components/SvgTree.vue\";\n\nexport default {\n  components: {\n    VueSvgTree\n  },\n  data() {\n    return {\n      initOptions: {renderer: 'svg'},\n      activeIndex: \"1\",\n      statusMap: {\n        0: \"未开始\",\n        1: \"运行中\",\n        2: \"执行出错\",\n        3: \"执行成功\",\n        4: \"暂停调度\",\n        13: \"就绪，等待执行\"\n      },\n      input: \"\",\n      treeData: [],\n      tableData: [],\n      leafTasks: [],\n      leafTasksValue: [],\n      graphOptions: {},\n\n      drawer: false,\n      chartStyle: 'width: 1538px;height: 1500px;margin-top: 20px',\n      width: 1538,\n      height: 1500\n    };\n  },\n  async mounted() {\n    await this.initTask();\n    if (this.leafTasks.length > 1) {\n      this.leafTasksValue = [this.leafTasks[0].name, this.leafTasks[1].name];\n      await this.initTaskGraph(this.leafTasksValue);\n    }\n    console.log(\"graphArea\", this.$graphArea);\n    this.chartStyle = 'width: ' + this.$graphArea.width + 'px;height: ' + this.$graphArea.height +'px;margin-top: 20px;'\n    console.log(\"chartStyle\", this.chartStyle);\n    await new Promise((resolve) => setTimeout(resolve, 100));\n      this.$refs.chart.refresh();\n  },\n  methods: {\n    handleClick(value) {\n      console.log(value);\n      if (value.data.des != undefined) {\n        window.open(\"http://xt.sankuai.com/workbench/task/\" + value.data.des);  \n      }\n      \n    },\n    copy(value) {\n      console.log(value);\n      let that = this;\n      if (value.data.des != undefined) {\n        this.$copyText(value.data.des + \"\\n\" + value.data.owner).then(function (e) {\n          that.$message.success(\"拷贝成功\");\n          console.log(e)\n        }, function (e) {\n          that.$message.success(\"拷贝失败\");\n          console.log(e)\n        })\n      }\n      \n    },\n    compare(v1, v2) {\n      if (v1.level !== v2.level) {\n        return v1.deep - v2.deep;\n      }\n      if (v1.parent === v2.parent) {\n        return v1.id - v2.id;\n      }\n      return this.compare(v1.parent, v2.parent);\n    },\n    async change(value) {\n      console.log(\"style\",this.$refs);\n      if (this.leafTasksValue.length == 0) {\n        this.graphOptions = {};\n      } else {\n        await this.initTaskGraph(this.leafTasksValue);\n      }\n      console.log(\"refs\",this.$refs, this.$graphArea);\n      this.chartStyle = 'width: ' + this.$graphArea.width + 'px;height: ' + this.$graphArea.height +'px;margin-top: 20px;'\n      console.log(\"chartStyle\", this.chartStyle);\n      await new Promise((resolve) => setTimeout(resolve, 100));\n      this.$refs.chart.refresh();\n    },\n    async initTask() {\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n\n      await getAllLeafTask()\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let data = res.data.data;\n            if (data != null && data != undefined) {\n              this.leafTasks = [];\n\n              data.forEach(task => {\n                this.leafTasks.push({\n                  key: task.id,\n                  name: task.taskName,\n                  value: task.taskName\n                });\n              });\n\n              console.log(this.leafTasks);\n            }\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    async initTaskGraph(taskNames) {\n      const loading = this.$loading({\n        lock: true,\n        text: \"Loading\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n\n      await getTaskGraph(taskNames)\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let data = res.data.data;\n            if (data != null && data != undefined) {\n              let nodes = [];\n              \n              \n              data.nodes.forEach(node => {\n                let graphNode = {\n                  name: \"\" + node.id,\n                  des: node.taskName,\n                  owner: node.owner,\n                  symbolSize: 200,\n                  category:\n                    taskNames.indexOf(node.taskName) != -1\n                      ? 2 :\n                      node.isRoot ? 3:\n                      node.inProject\n                      ? 0\n                      : 1\n                };\n\n                nodes.push(graphNode);\n              });\n              \n              let edges = [];\n              data.edges.forEach(edge => {\n                let graphEdge = {\n                  source: \"\" + edge.source,\n                  target: \"\" + edge.target,\n                  name: \"\"\n                };\n\n                edges.push(graphEdge);\n              });\n              console.log(nodes, edges);\n              let that = this;\n              this.graphOptions = {\n                title: {\n                  text: \"依赖关系图\"\n                },\n                // 提示框的配置\n                tooltip: {\n                  show: true,\n                  formatter: function(x) {\n                    if (x.data.des != undefined) {\n                      return 'ETL:' +x.data.des + '\\n负责人:' + x.data.owner;\n                    } else {\n                      return '';\n                    }\n                    \n                  }\n                },\n                \n                // 工具箱\n                toolbox: {\n                  // 显示工具箱\n                  show: true,\n                  feature: {\n                    // 还原\n                    myRefresh: {\n                      show: true,\n                      title: '还原',\n                      icon: 'path://M85.333333 468.949333l-2.218666-0.042666-1.92-0.128a42.709333 42.709333 0 0 1-3.370667-0.469334l-1.749333-0.341333a26.368 26.368 0 0 1-2.474667-0.64l-2.474667-0.768a42.88 42.88 0 0 1-16.896-11.050667l3.370667 3.2a55.168 55.168 0 0 1-3.242667-3.072l-0.426666-0.469333a44.373333 44.373333 0 0 1-7.509334-11.349333l-1.066666-2.517334-0.768-2.176-0.682667-2.432a28.288 28.288 0 0 1-0.554667-2.602666l-0.341333-2.133334A49.450667 49.450667 0 0 1 42.666667 426.282667l0.085333 3.029333a51.285333 51.285333 0 0 1-0.085333-2.56V170.282667a42.666667 42.666667 0 0 1 85.333333 0v157.354666l125.141333-117.589333a426.666667 426.666667 0 0 1 496.469334-77.525333l11.392 6.101333a426.709333 426.709333 0 0 1-181.888 799.402667 426.666667 426.666667 0 0 1-426.922667-284.202667 42.624 42.624 0 1 1 80.469333-28.330667 341.290667 341.290667 0 0 0 654.762667-37.717333 341.333333 341.333333 0 0 0-167.68-374.485333A341.717333 341.717333 0 0 0 312.533333 271.36L193.024 383.573333 341.333333 383.616a42.666667 42.666667 0 0 1 42.368 37.674667L384 426.282667a42.666667 42.666667 0 0 1-42.666667 42.666666H85.333333z',\n                      onclick: async function (){\n                          console.log(that.graphOptions);\n          \n                        \n                          that.chartStyle = 'width: ' + that.$graphArea.width + 'px;height: ' + that.$graphArea.height +'px;margin-top: 20px;'\n                          that.graphOptions.series[0].zoom = 1;\n                          await new Promise((resolve) => setTimeout(resolve, 100));\n                          that.$refs.chart.refresh();\n                          console.log(that.chartStyle);\n                      },\n      \n                    },\n                    // 保存为图片\n                    saveAsImage: {\n                      show: true,\n                      pixelRatio : 3\n                    },\n                    myZoomUp: {\n                      show: true,\n                      title: '放大图像',\n                      icon: 'path://M0,-1 V1 M-1,0 H1',\n                      onclick: function (){\n                          console.log(that.graphOptions);\n                          that.graphOptions.series[0].zoom = 0.1 + that.graphOptions.series[0].zoom;\n                      },\n                    },\n                    \n                    myZoomDown: {\n                      show: true,\n                      title: '缩小图像',\n                      icon: 'path://M877.4 528.2H148.7c-10.5 0-19.1-8.6-19.1-19.1s8.6-19.1 19.1-19.1h728.7c10.5 0 19.1 8.6 19.1 19.1s-8.5 19.1-19.1 19.1z',\n                      onclick: function (){\n                          console.log(that.graphOptions);\n                          that.graphOptions.series[0].zoom =  that.graphOptions.series[0].zoom - 0.1;\n                      }\n                    },\n                    // myZoomUpChart: {\n                    //   show: true,\n                    //   title: '放大画布',\n                    //   icon: 'path://M912 262v500c0 41.3-14.7 76.7-44 106s-64.6 44-106 44H262.1c-41.3 0-76.7-14.7-106-44s-44-64.6-44-106V262c0-41.3 14.7-76.7 44-106s64.6-44 106-44h500c41.3 0 76.7 14.7 106 44 29.2 29.3 43.9 64.7 43.9 106zM778.6 545.4v-66.7c0-9-3.3-16.9-9.9-23.4-6.6-6.6-14.5-9.9-23.4-9.9H578.7V278.6c0-9-3.3-16.9-9.9-23.4-6.6-6.6-14.5-9.9-23.4-9.9h-66.7c-9 0-16.9 3.3-23.4 9.9s-9.9 14.5-9.9 23.4v166.6H278.7c-9 0-16.9 3.3-23.4 9.9-6.6 6.6-9.9 14.5-9.9 23.4v66.7c0 9 3.3 16.9 9.9 23.4 6.6 6.6 14.3 9.9 23.4 9.9h166.7v166.7c0 9 3.3 16.9 9.9 23.4 6.6 6.6 14.3 9.9 23.4 9.9h66.7c9 0 16.9-3.3 23.4-9.9 6.6-6.6 9.9-14.5 9.9-23.4V578.6h166.6c9 0 16.9-3.3 23.4-9.9 6.6-6.6 9.9-14.4 9.9-23.3z',\n                    //   onclick: function (){\n                    //       that.width = that.width + 100;\n                    //       that.height = that.height + 100;\n                        \n                    //       that.chartStyle = 'width: ' + that.width + 'px;height: ' + that.height +'px;margin-top: 20px;'\n                    //       that.$refs.chart.refresh();\n                    //       console.log(that.chartStyle);\n                    //   },\n                    // },\n                    // myZoomDownChart: {\n                    //   show: true,\n                    //   title: '缩小画布',\n                    //   icon: 'path://M512 32C246.912 32 32 246.912 32 512c0 265.088 214.912 480 480 480s480-214.912 480-480c0-265.088-214.912-480-480-480z m256 512H256v-64h512v64z',\n                    //   onclick: function (){\n                    //       that.width = that.width - 100;\n                    //       that.height = that.height - 100;\n                        \n                    //       that.chartStyle = 'width: ' + that.width + 'px;height: ' + that.height +'px;margin-top: 20px;'\n                    //       console.log(that.chartStyle);\n                    //       that.$refs.chart.refresh();\n                          \n                    //   }\n                    // },\n                  },\n                  left: 1200\n                },\n                legend: [\n                  {\n                    // selectedMode: 'single',\n                    left:500,\n                    data: [\n                      {\n                        name: \"组内ETL\"\n                      },\n                      { name: \"组外ETL\" },\n                      {\n                        name: \"所选叶子节点\"\n                      },\n                      {\n                        name: \"末端节点\"\n                      }\n                    ].map(function(a) {\n                      return a.name;\n                    })\n                  }\n                ],\n                series: [\n                  {\n                    type: \"graph\", // 类型:关系图\n                    layout: \"dagre\", //图的布局，类型为力导图\n                    roam: 'move', // 是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移,可以设置成 'scale' 或者 'move'。设置成 true 为都开启\n                    edgeSymbol: [\"arrow\", \"circle\"],\n                    edgeSymbolSize: [30, 2],\n                    symbol: \"roundRect\",\n                    force: {\n                      repulsion: 7500,\n                      edgeLength: [50, 500]\n                    },\n                    zoom: 1,\n                    draggable: true,\n                    itemStyle: {},\n                    lineStyle: {\n                      normal: {\n                        width: 2,\n                        color: \"#4b565b\"\n                      }\n                    },\n\n                    label: {\n                      show: true,\n                      formatter: value => {\n                        return (\n                          value.data.des.substring(0, 23) +\n                          \"\\n\" +\n                          value.data.des.substring(23, 46) +\n                          \"\\n\" +\n                          value.data.des.substring(46)\n                        );\n                      }\n                    },\n\n                    // 数据\n                    data: nodes,\n                    links: edges,\n                    categories: [\n                      {\n                        name: \"组内ETL\"\n                      },\n                      { name: \"组外ETL\" },\n                      {\n                        name: \"所选叶子节点\"\n                      },\n                      {\n                        name: \"末端节点\"\n                      }\n                    ]\n                  }\n                ]\n              };\n            }\n          } else {\n            this.$message.error(\"网络错误\");\n          }\n          loading.close();\n        })\n        .catch(error => {\n          loading.close();\n          this.$message.error(\"网络错误\");\n          console.error(error);\n        });\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.index = rowIndex;\n      if (row[\"hasWeakRelation\"]) {\n        return \"warning-row\";\n      }\n      return \"\";\n    },\n    showEditRemark(row, column, cell, event) {\n      console.log(row, column, cell, event);\n      if (!row.showEdit && column.property == \"remark\") {\n        row.showEdit = true;\n        this.$set(this.tableData, row.index, row);\n        console.log(\"refs\", this.$refs[`remark${row.index}`]);\n        this.$nextTick(function() {\n          this.$refs[`remark${row.index}`].$el.querySelector(\"input\").focus();\n        });\n        this.$set(this.tableData, row.index, row);\n      }\n    },\n    handleUpdate(index, row) {\n      console.log(row);\n      row.showEdit = false;\n      if (row.taskname != null && row.remark != null)\n        updateRemark(row.taskname, row.remark)\n          .then(res => {\n            console.log(res);\n            if (res.data.code === 0) {\n              this.$message.success(\"更新成功\");\n            } else {\n              this.$message.error(\"网络错误\");\n            }\n          })\n          .catch(error => {\n            this.$message.error(\"网络错误\");\n            console.error(error);\n          });\n      this.$set(this.tableData, row.index, row);\n    },\n    time() {\n      var time = new Date();\n      var y = time.getFullYear();\n      var M = time.getMonth() + 1;\n      var d = time.getDate();\n      var h = time.getHours();\n      var m = time.getMinutes();\n      var s = time.getSeconds();\n      return (\n        y +\n        \"-\" +\n        this.addZero(M) +\n        \"-\" +\n        this.addZero(d) +\n        \" \" +\n        this.addZero(h) +\n        \":\" +\n        this.addZero(m) +\n        \":\" +\n        this.addZero(s)\n      );\n    },\n    addTask() {\n      this.$prompt(\"请输入ETL任务名\", \"\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      })\n        .then(({ value }) => {\n          if (value != null) {\n            const loading = this.$loading({\n              lock: true,\n              text: \"Loading\",\n              spinner: \"el-icon-loading\",\n              background: \"rgba(0, 0, 0, 0.7)\"\n            });\n            addTaskDepend(value)\n              .then(res => {\n                console.log(res);\n                if (res.data.code === 0) {\n                  this.initTask();\n                  this.$message.success(\"更新成功\");\n                } else {\n                  this.$message.error(\"网络错误\");\n                }\n                loading.close();\n              })\n              .catch(error => {\n                this.$message.error(\"网络错误\");\n                console.error(error);\n                loading.close();\n              });\n          }\n        })\n        .catch(error => {\n          console.error(error);\n          this.$message({\n            type: \"info\",\n            message: \"取消输入\"\n          });\n        });\n    },\n    addZero(m) {\n      return m < 10 ? \"0\" + m : m;\n    },\n    secondToHour(value) {\n      let hour = Math.floor(value / 3600);\n      let minute = Math.floor((value - hour * 3600) / 60);\n      let second = value - hour * 3600 - minute * 60;\n      let texts = [\n        this.addZero(hour),\n        this.addZero(minute),\n        this.addZero(second)\n      ];\n\n      return texts.join(\":\");\n    },\n    getChartStyle() {\n      console.log(\"style\",this.$refs);\n      console.log(this.$refs.chart.height, this.$refs.chart.width);\n      return 'width: ' + this.$refs.chart.width + ';height: ' + this.$refs.chart.height +'px;margin-top: 20px;'\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\n.el-table {\n  margin: 5px 0 20px 0;\n}\n.el-tag {\n  margin: 20px 0 20px 0;\n}\n.text {\n  font-size: 14px;\n  text-align: left;\n}\n\n.item {\n  padding: 2px 0;\n}\n.box-card {\n  width: 800px;\n  margin: 5px 0px 20px 0;\n}\n.drawer-content {\n  margin: auto;\n}\n.el-select {\n  width: 100%;\n}\n.el-tag {\n  margin: 5px 0 0 0;\n}\n.container {\n  width: 100%;\n  height: 1500px;\n  overflow: scroll;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskGraph.vue?vue&type=template&id=5d113b91&scoped=true&\"\nimport script from \"./TaskGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskGraph.vue?vue&type=style&index=0&id=5d113b91&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d113b91\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-container',[_c('el-header'),_c('el-main',[_c('el-input',{attrs:{\"placeholder\":\"目标价格\"},on:{\"input\":_vm.refresh},model:{value:(_vm.target),callback:function ($$v) {_vm.target=$$v},expression:\"target\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"目标价格：\")])],2),_c('el-input',{attrs:{\"placeholder\":\"送券价格\"},model:{value:(_vm.bonus),callback:function ($$v) {_vm.bonus=$$v},expression:\"bonus\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"送券价格：\")])],2),_c('el-input',{attrs:{\"placeholder\":\"满减门槛\"},model:{value:(_vm.discountLimit),callback:function ($$v) {_vm.discountLimit=$$v},expression:\"discountLimit\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满减门槛：\")])],2),_c('el-input',{attrs:{\"placeholder\":\"满减额度\"},model:{value:(_vm.discount),callback:function ($$v) {_vm.discount=$$v},expression:\"discount\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满减额度：\")])],2),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"text item\",staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"最优惠价格\"+_vm._s(_vm.cost)+\"元，使用满减券\"+_vm._s(_vm.num)+\"张。\")])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"first_cost\",\"label\":\"第一次花费\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"num\",\"label\":\"拿到满减券张数\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"second_cost\",\"label\":\"第二次花费\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"use\",\"label\":\"使用满减券张数\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"cost\",\"label\":\"共花费\",\"width\":\"200\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <el-container>\n      <el-header>\n\n      </el-header>\n      <el-main>\n        <el-input v-model=\"target\" placeholder=\"目标价格\" @input=\"refresh\"> \n          <template slot=\"prepend\">目标价格：</template>\n        </el-input>\n        <el-input v-model=\"bonus\" placeholder=\"送券价格\">\n          <template slot=\"prepend\">送券价格：</template>\n        </el-input>\n        <el-input v-model=\"discountLimit\" placeholder=\"满减门槛\">\n          <template slot=\"prepend\">满减门槛：</template>\n        </el-input>\n        <el-input v-model=\"discount\" placeholder=\"满减额度\">\n          <template slot=\"prepend\">满减额度：</template>\n        </el-input>\n        <el-card class=\"box-card\">\n      <div class=\"text item\" style=\"text-align: left;\">最优惠价格{{cost}}元，使用满减券{{num}}张。</div>\n    </el-card>\n        <el-table\n      :data=\"tableData\"\n      border\n      :row-class-name=\"tableRowClassName\"\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"first_cost\" label=\"第一次花费\" width=\"200\"></el-table-column>\n      <el-table-column prop=\"num\" label=\"拿到满减券张数\" width=\"200\">\n      </el-table-column>\n      <el-table-column prop=\"second_cost\" label=\"第二次花费\" width=\"200\"></el-table-column>\n      <el-table-column prop=\"use\" label=\"使用满减券张数\" width=\"200\"></el-table-column>\n      <el-table-column prop=\"cost\" label=\"共花费\" width=\"200\"></el-table-column>\n      \n    </el-table>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport TaskRelationsData from \"@/components/TaskRelationsData.vue\";\nimport TaskAlarmData from \"@/components/TaskAlarmData.vue\";\nimport TaskGraph from \"@/components/TaskGraph.vue\";\n\nexport default {\n  name: \"Main\",\n  components: {\n    TaskRelationsData,\n    TaskAlarmData,\n    TaskGraph\n  },\n  data() {\n    return {\n      tableData: [],\n      target: 20000,\n      bonus: 999,\n      discountLimit: 300,\n      discount: 80,\n      cost: 0,\n      num: 0\n    };\n  },\n  mounted() {\n     this.refresh();\n  },\n  methods: {\n    tableRowClassName({ row, rowIndex }) {\n      row.index = rowIndex;\n      if (row[\"min\"]) {\n        return \"warning-row\";\n      }\n      return \"\";\n    },\n    refresh() {\n      this.tableData = [];\n      let discount_cost = this.discountLimit - this.discount;\n     let min = Number.MAX_VALUE;\n     let bestNum = 0;\n      for (let num = 0;num * this.bonus <= this.target;num++) {\n          let remain = this.target - this.bonus * num;\n          let discountNum = Math.floor(remain / this.discountLimit);\n          \n          if (discountNum > num) {\n              discountNum = num;\n          }\n\n          remain = remain - discountNum * this.discountLimit;\n          let cost = this.bonus * num + discount_cost * discountNum + remain;\n          if (cost < min) {\n              min = cost;\n              bestNum = num;\n          }\n        \n          this.tableData.push({\n            first_cost: num + '*' + this.bonus + '='  + (num * this.bonus),\n            num: num,\n            second_cost: (this.target - this.bonus * num) + '-' + this.discount + '*'  +discountNum+ '=' + (discount_cost * discountNum + remain),\n            use: discountNum,\n            cost: cost,\n            min: false\n          });\n      }\n      this.cost = this.tableData[bestNum].cost;\n      this.num = this.tableData[bestNum].use;\n      this.tableData[bestNum].min = true;\n      console.log(this.tableData)\n\n    }\n  }\n  \n  \n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.el-table .warning-row {\n  background: oldlace;\n}\n.el-drawer.rtl {\n  overflow: scroll;\n}\n.box-card {\n  width: 800px;\n  margin: 5px 0px 20px 0;\n}\n\n.el-input {\n  margin: 5px 0px 20px 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=1d0de6a4&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport TaskRelationsData from \"@/components/TaskRelationsData.vue\";\nimport TaskAlarmData from \"@/components/TaskAlarmData.vue\";\nimport TaskGraph from \"@/components/TaskGraph.vue\";\nimport Main from \"@/components/Main.vue\";\nVue.use(Router);\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      component: Main,\n    }\n  ]\n});\n\n\nexport default router\n","var render, staticRenderFns\nimport script from \"./global.vue?vue&type=script&lang=js&\"\nexport * from \"./global.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\n  const BASE_URL = '';\n  export default{\n    BASE_URL\n  }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./global.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./global.vue?vue&type=script&lang=js&\"","import Vue from 'vue'\nimport Element from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.use(Element)\n","import Vue from 'vue'\nimport App from './App.vue'\nimport axios from 'axios'\nimport router from './router'\nimport global_ from '@/config/global.vue'\nimport './plugins/element.js'\nimport VueClipboard from 'vue-clipboard2'\nimport ECharts from 'vue-echarts'\nimport 'echarts/lib/chart/line'\nimport 'echarts/lib/chart/graph'\nimport \"echarts/lib/component/tooltip\";\nimport \"echarts/lib/component/legend\";\nimport \"echarts/lib/component/title\";\nimport \"echarts/lib/component/toolbox\";\n\nVue.component('echart', ECharts)\nVue.use(VueClipboard)\nVue.prototype.GLOBAL = global_;\nVue.prototype.$graphArea = {\n  width : 1538,\n  height: 1500\n}\naxios.defaults.withCredentials=true\nVue.config.productionTip = false\n\nvar echarts = require('echarts');\n    var dagre = require('dagre');\n\n    var defaultOptions = {\n        rankdir: 'BT'\n    };\n\n    echarts.registerLayout(function (ecModel, api) {\n        ecModel.eachSeriesByType('graph', function (seriesModel) {\n            var layout = seriesModel.get('layout');\n            var graph = seriesModel.getGraph();\n            var dagreGraph = new dagre.graphlib.Graph();\n            var coordSys = seriesModel.coordinateSystem;\n            if (!coordSys || coordSys.type !== 'view') {\n                throw new Error('Dagre layout not support coordinate system.');\n            }\n\n            var layoutConfig = echarts.util.extend({}, defaultOptions);\n            echarts.util.extend(layoutConfig, seriesModel.get('dagreLayout'));\n            \n            // Set an object for the graph label\n            dagreGraph.setGraph({});\n            // // Default to assigning a new object as a label for each new edge.\n            dagreGraph.setDefaultEdgeLabel(function() { return {}; });\n            if (layout === 'dagre') {\n                graph.eachNode(function (node) {\n                    var itemModel = node.getModel();\n                    // TODO Use getVisual\n                    var symbolSize = itemModel.get('symbolSize');\n                    if (!(symbolSize instanceof Array)) {\n                        symbolSize = [symbolSize, symbolSize];\n                    }\n                    dagreGraph.setNode(node.id, {\n                        width: 10,\n                        height: 10\n                    });\n                });\n\n                graph.eachEdge(function (edge) {\n                    dagreGraph.setEdge(edge.node1.id, edge.node2.id);\n                });\n                dagreGraph.graph().rankdir = 'BT';\n                dagre.layout(dagreGraph);\n                \n                console.log(dagreGraph.graph());\n                var xMin = Infinity;\n                var yMin = Infinity;\n                var xMax = -Infinity;\n                var yMax = -Infinity;\n\n                var nodeData = seriesModel.getData();\n                var edgeData = seriesModel.getEdgeData();\n                dagreGraph.nodes().forEach(function (node, idx) {\n                    node = dagreGraph.node(node);\n                    nodeData.setItemLayout(idx, [node.x, node.y]);\n\n                    xMin = Math.min(xMin, node.x);\n                    yMin = Math.min(yMin, node.y);\n\n                    xMax = Math.max(xMax, node.x);\n                    yMax = Math.max(yMax, node.y);\n                });\n                \n                dagreGraph.edges().forEach(function (edge, idx) {\n                    var n1 = dagreGraph.node(edge.v);\n                    var n2 = dagreGraph.node(edge.w);\n                    var edgeModel = edgeData.getItemModel(idx);\n                    var curveness = edgeModel.get('lineStyle.normal.curveness');\n                    var points = [\n                        [n1.x, n1.y],\n                        [n2.x, n2.y]\n                    ];\n                    if (curveness > 0) {\n                        var cx = (n1.x + n2.x) / 2 * (1 - curveness);\n                        var cy = (n1.y + n2.y) / 2 * (1 - curveness);\n                        if (layoutConfig.rankdir === 'LR' || layoutConfig.rankdir === 'RL') {\n                            points.push(\n                                [n1.x * curveness + cx, n2.y * curveness + cy]\n                            );\n                        }\n                        else {\n                            points.push(\n                                [n2.x * curveness + cx, n1.y * curveness + cy]\n                            );\n                        }\n                    }\n                    edgeData.setItemLayout(idx, points);\n                });\n\n                // Keep aspect\n                var aspect = (xMax - xMin) / (yMax - yMin);\n                var viewRect = coordSys.getViewRect();\n                var viewAspect = viewRect.width / viewRect.height;\n                console.log(xMin,yMin,xMax,yMax,aspect,viewRect);\n                if (aspect > viewAspect) {\n                    \n                    var newHeight = viewRect.width / aspect;\n                    viewRect.y += (viewRect.height - newHeight) / 2;\n                    viewRect.y = viewRect.y < 0 ? 0 : viewRect.y;\n                    viewRect.height = newHeight;\n                }\n                else {\n                  \n                    var newWidth = viewRect.height * aspect;\n                    viewRect.x += (viewRect.width - newWidth) / 2;\n                    viewRect.x = viewRect.x < 0 ? 0 : viewRect.x;\n                    viewRect.width = newWidth;\n                }\n                \n                // Reset bounding rect\n                coordSys.setBoundingRect(xMin, yMin, xMax - xMin, yMax - yMin);\n                let width = dagreGraph.graph().width * 6;\n                \n                width = width < 1000 ? 1000 : width;\n                let height = width / aspect;\n                viewRect.y += (viewRect.height - height) / 2;\n                viewRect.y = viewRect.y < 0 ? 0 : viewRect.y;\n                viewRect.x += (viewRect.width - width) / 2;\n                viewRect.x = viewRect.x < 0 ? 0 : viewRect.x;\n                coordSys.setViewRect(viewRect.x, viewRect.y, width, height);\n                viewRect = coordSys.getViewRect();\n                Vue.prototype.$graphArea = {\n                  width : width / 6 * 8,\n                  height: height / 6 * 8 \n                }\n                console.log(xMin,yMin,xMax,yMax,aspect,viewRect);\n            }\n        });\n    });\n\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app')\n\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgTree.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgTree.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}