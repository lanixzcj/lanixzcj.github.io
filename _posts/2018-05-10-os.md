---
layout: post
title: 操作系统学习笔记
description: "操作系统"
tags: [os]
modified:   2018-05-10 16:15:63 +0800
share: false
comments: false
mathjax: false
image:
  
---

对操作系统概念的复习与总结。

<!--more-->

## 进程和线程

### 进程

#### 概念

进程的本质就是程序的一次执行过程，是资源分配的基本单位。进程控制块描述进程的基本信息和运行状态，用于对进程的管理和控制，包括进程标识符，进程当前状态，进程相应程序与数据地址，进程资源清单，进程优先级，CPU现场保护区，进程同步与通信机制，进程所在队列PCB的链接字（下一个PCB的首地址），与进程有关的其他信息（记账信息，占用的CPU时间）

#### 状态

1. 创建状态：进程正在创建，不能运行。操作系统在创建状态要进行分配和建立进程控制块，建立资源表格分配资源、加载程序并建立地址空间表。
1. 运行态：该进程实际占用CPU
1. 就绪态：可运行，但其它进程正在占用CPU而暂时停止
1. 阻塞态：进程由于某种事件而暂时无法继续执行，放弃CPU处于暂停状态。如请求I/O，申请缓冲空间等。
1. 退出状态：进程已结束运行，回收除进程控制块之外的其他资源

### 线程

#### 概念

是进程的一个实体，是被系统独立调度和分派的基本单位，线程不拥有系统资源，只拥有一点在运行中必不可少的资源，但它可与同属一个进程的其他线程共享进程的资源。

### 区别

1. 拥有资源：进程是资源分配的基本单位，线程不拥有系统资源，线程可以访问隶属进程的资源
1. 调度：线程是调度的基本单位，同一进程中线程的切换不会引起进程切换，从一个进程内的线程切换到另一个进程中的线程时，会引起进程切换。
1. 系统开销：创建进程或撤销时，系统要为之分配或回收资源，付出的开销远大于线程；类似的，进程的切换涉及进程CPU环境的保存和新进程CPU环境的设置，而线程切换只需保存和设置少量寄存器，开销很小。
1. 通信：进程间通讯有管道、信号量、信号消息队列、socket等，线程间通讯通过通道、共享内存等来通信

### 调度算法

1. 先来先服务：调度最先进入就绪队列的作业。有利于长作业，但不利于短作业。
1. 短作业优先：调度估计运行时间最短的作业。长作业可能会饿死，永远得不到调度。
1. 优先权调度：把CPU分配给就绪队列中优先权最高的进程，除了手动赋予优先权之外，还可以通过计算响应比作为优先权，响应比=(等待时间+要求服务时间)/要求服务时间。同时考虑了短作业优先和先来先服务，是一个比较好的折中方法，但是会增加系统开销。
1. 时间片轮转法：类似于先来先服务，每次调度时，CPU分配给首进程，但是只执行一个时间片，当时间片用完时，由计时器发出中断请求，调度程序停止该进程，并将它送往就绪队列的末尾，之后执行相同的过程。
1. 多级反馈队列调度：当一个作业需要100个时间片的时候，使用时间片轮转法会交换100次，多级反馈队列为了解决这个问题，设置了多个队列，每个队列有不同的时间片大小，并且有不同的优先级。第一个队列优先级最高，时间片大小最小。新进程首先先在第一个队列末尾，当执行完第一个队列的一个时间片后，进程还没有结束，则转入到第二队列末尾，以此类推。当高优先级的队列空闲时才执行下一个队列的作业。

## IPC通信方式

### 管道

管道是一种半双工的通信方式，数据只能单向流动